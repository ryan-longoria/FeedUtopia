<dialog id="auth-modal" class="card" style="max-width: 520px">
  <h2>Welcome</h2>
  <p class="muted">Log in or create an account to continue.</p>

  <div
    class="mt-3"
    role="tablist"
    aria-label="Auth tabs"
    style="display: flex; gap: 8px"
  >
    <button class="btn small" id="tab-login" type="button" aria-selected="true">
      Log In
    </button>
    <button
      class="btn small secondary"
      id="tab-signup"
      type="button"
      aria-selected="false"
    >
      Create Account
    </button>
  </div>

  <form id="form-login" class="mt-3">
    <label>Email</label>
    <input
      class="input"
      name="email"
      type="email"
      autocomplete="email"
      required
    />
    <label>Password</label>
    <input
      class="input"
      name="password"
      type="password"
      autocomplete="current-password"
      required
    />
    <button class="btn mt-3" type="submit">Log In</button>
    <p class="muted mt-2" style="font-size: 12px">
      By continuing you agree to our <a href="terms.html">Terms</a> and
      <a href="privacy.html">Privacy Policy</a>.
    </p>
  </form>

  <form id="form-signup" class="mt-3 hidden">
    <label>Email</label>
    <input
      class="input"
      name="email"
      type="email"
      autocomplete="email"
      required
    />

    <label>Password</label>
    <input
      class="input"
      name="password"
      type="password"
      autocomplete="new-password"
      required
    />

    <label>Role</label>
    <select class="input" name="role" id="signup-role" required>
      <option value="Wrestler">Wrestler</option>
      <option value="Promoter">Promoter</option>
    </select>

    <fieldset id="wrestler-fields" class="mt-3">
      <legend class="muted" style="margin-bottom: 6px">Wrestler details</legend>
      <label>First name</label>
      <input class="input" name="given_name" required />
      <label>Last name</label>
      <input class="input" name="family_name" required />
      <label>Stage name</label>
      <input class="input" name="stageName" required />
      <label>Date of birth (YYYY-MM-DD)</label>
      <input
        class="input"
        name="dob"
        type="date"
        required
        pattern="\d{4}-\d{2}-\d{2}"
        max="<?= new Date().toISOString().slice(0,10) ?>"
      />
      <div class="grid cols-3" style="gap: 8px">
        <div>
          <label>City</label>
          <input class="input" name="city" required />
        </div>
        <div>
          <label>State/Region</label>
          <input class="input" name="region" required />
        </div>
        <div>
          <label>Country</label>
          <input class="input" name="country" required />
        </div>
      </div>
    </fieldset>

    <fieldset id="promoter-fields" class="mt-3 hidden">
      <legend class="muted" style="margin-bottom: 6px">
        Promotion details
      </legend>
      <label>Promotion / Org name</label>
      <input class="input" name="orgName" />
      <label>Full address</label>
      <input class="input" name="address" />
    </fieldset>

    <button class="btn mt-3" type="submit">Create Account</button>
    <p class="muted mt-2" style="font-size: 12px">
      Weâ€™ll email you a confirmation code.
    </p>
  </form>

  <form id="form-confirm" class="mt-3 hidden">
    <label>Confirmation Code</label>
    <input
      class="input"
      name="code"
      inputmode="numeric"
      autocomplete="one-time-code"
      required
    />
    <button class="btn mt-3" type="submit">Confirm</button>
    <button class="btn small secondary" id="resend-code" type="button">
      Resend code
    </button>
  </form>

  <div class="mt-3" style="display: flex; gap: 8px; justify-content: flex-end">
    <button class="btn secondary" type="button" id="auth-close">Close</button>
  </div>
</dialog>

<script type="module" src="/js/auth-modal.js"></script>
