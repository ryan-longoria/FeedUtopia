import{g as l,a as u,i as d}from"./roles-CaKbrTUl.js";function i(r="generic"){var e;try{if((e=window.Auth)!=null&&e.open){window.Auth.open("signup",{intent:r});return}window.dispatchEvent(new CustomEvent("auth:open",{detail:{mode:"signup",intent:r}}));const t=document.getElementById("login-btn");t&&t.click()}catch(t){console.error("openSignup failed",t)}}document.addEventListener("click",async r=>{var t,a,s,c;const e=r.target.closest("a,button");if(e){if(e.dataset.auth==="out"){r.preventDefault();const n=(t=e.id)!=null&&t.includes("promoter")?"promoter":(a=e.id)!=null&&a.includes("talent")?"wrestler":(s=e.getAttribute("aria-label"))!=null&&s.includes("Promoter")?"promoter":(c=e.getAttribute("aria-label"))!=null&&c.includes("Talent")?"wrestler":"generic";i(n);return}if(e.dataset.requires){r.preventDefault();try{const n=await l(),o=e.dataset.requires;o==="wrestler"&&u(n)||o==="promoter"&&d(n)?window.location.href=e.getAttribute("href")||"#":i(o)}catch(n){console.error("auth-cta role check failed",n),i(e.dataset.requires||"generic")}}}});
